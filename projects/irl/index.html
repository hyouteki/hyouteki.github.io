<!doctype html><html lang=en><head><meta charset=utf-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1" name=viewport><meta content=#5100ff name=theme-color><link href=https://hyouteki.github.io/projects/irl/ rel=canonical><title>
     irl - Intermediate Representation Language - Ninthcircle
    
  </title><link href=https://hyouteki.github.io/style.css rel=stylesheet><link href=/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/site.webmanifest rel=manifest><link href=https://vmst.io/@hyouteki rel=me><meta content=Ninthcircle property=og:site_name><meta content="
     irl - Intermediate Representation Language - Ninthcircle
    " property=og:title><meta content=https://hyouteki.github.io/projects/irl/ property=og:url><meta content='A simpler version of what LLVM is at its core; "An optimizer and transpiler of its very own LLVM IR to various architecture&#39s ISA".' property=og:description><meta content=https://hyouteki.github.io/card.png property=og:image><meta content=summary_large_image property=twitter:card><body><header><nav><a href=https://hyouteki.github.io> <i class="bi bi-house"></i> Ninthcircle </a><ul><li><a href=https://hyouteki.github.io/blogs target=_blank> <i class="bi bi-journal-bookmark"></i> Blogs </a><li><a href=https://hyouteki.github.io/toys target=_blank> <i class="bi bi-joystick"></i> Toys </a><li><a href=https://hyouteki.github.io/projects target=_blank> <i class="bi bi-pc-display"></i> Projects </a><li><a href=https://hyouteki.github.io/writings target=_blank> <i class="bi bi-vector-pen"></i> Writings </a><li><a href=https://github.com/hyouteki target=_blank> <i class="bi bi-github"></i> </a><li><a href=https://www.linkedin.com/in/hyouteki/ target=_blank> <i class="bi bi-linkedin"></i> </a><li><a href=https://twitter.com/mainlakshayhoon target=_blank> <i class="bi bi-twitter-x"></i> </a></ul></nav></header><div class=container><h1>irl - Intermediate Representation Language</h1><small> <time datetime=2024-08-16T00:00:00+00:00 pubdate>16 August 2024</time> <span>•</span> <ul class=tags><li><a class=tag href=https://hyouteki.github.io/tags/rust/>rust</a><li><a class=tag href=https://hyouteki.github.io/tags/llvm/>llvm</a><li><a class=tag href=https://hyouteki.github.io/tags/compiler/>compiler</a><li><a class=tag href=https://hyouteki.github.io/tags/fasm/>fasm</a><li><a class=tag href=https://hyouteki.github.io/tags/wasm/>wasm</a><li><a class=tag href=https://hyouteki.github.io/tags/graphviz/>graphviz</a><li><a class=tag href=https://hyouteki.github.io/tags/systems/>systems</a></ul> </small><div class="statement-container disclaimer"><strong class=big>⚠ Disclaimer(s)</strong><p>Work in progress…</div><p>Planned to be a simpler version of what LLVM is at its core; “An optimizer and transpiler of its very own LLVM IR to various architecture’s ISA”.<h3 id=grammar>Grammar</h3><pre class="language-asm z-code" data-lang=asm><code class=language-asm data-lang=asm><span class="z-source z-assembly"><span class="z-entity z-name z-function z-assembly">f</span><span class="z-entity z-name z-function z-assembly">u</span><span class="z-entity z-name z-function z-assembly">n</span><span class="z-entity z-name z-function z-assembly">c</span><span class="z-entity z-name z-function z-assembly">t</span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">n</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">L</span><span class="z-source z-assembly">,</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">n</span>
<span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly">r</span><span class="z-entity z-name z-function z-assembly">g</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">d</span>
<span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">d</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">p</span>
<span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">d</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">p</span><span class="z-entity z-name z-function z-assembly">1</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly">r</span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">t</span><span class="z-entity z-name z-function z-assembly">h</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">p</span><span class="z-entity z-name z-function z-assembly">2</span>
<span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">d</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">u</span><span class="z-entity z-name z-function z-assembly">n</span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly">r</span><span class="z-entity z-name z-function z-assembly">y</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">p</span>
<span class="z-entity z-name z-function z-assembly">g</span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">t</span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">L</span>
<span class="z-entity z-name z-function z-assembly">l</span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly">b</span><span class="z-entity z-name z-function z-assembly">e</span><span class="z-entity z-name z-function z-assembly">l</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">L</span>
<span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">f</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">(</span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">p</span><span class="z-entity z-name z-function z-assembly">1</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">r</span><span class="z-entity z-name z-function z-assembly">e</span><span class="z-entity z-name z-function z-assembly">l</span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">p</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">p</span><span class="z-entity z-name z-function z-assembly">2</span><span class="z-entity z-name z-function z-assembly">)</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">g</span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">t</span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">L</span>
<span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">d</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">p</span><span class="z-entity z-name z-function z-assembly">1</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">r</span><span class="z-entity z-name z-function z-assembly">e</span><span class="z-entity z-name z-function z-assembly">l</span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">p</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">p</span><span class="z-entity z-name z-function z-assembly">2</span>
<span class="z-entity z-name z-function z-assembly">p</span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly">r</span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly">m</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">p</span>
<span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">d</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-keyword z-control z-assembly">call</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">L</span><span class="z-source z-assembly">,</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">n</span>
<span class="z-keyword z-control z-assembly">ret</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">p</span>
</span></code></pre><h3 id=irl-architecture>IRL Architecture</h3><img src="https://github.com/hyouteki/irl/blob/master/resources/irl-architecture.jpg?raw=true" width=1200><p>In the IRL architecture, the initial step involves converting the source code into an <a href=https://en.wikipedia.org/wiki/Abstract_syntax_tree>AST</a> (Abstract Syntax Tree) using the frontend (<a href=https://github.com/hyouteki/irl/tree/master/src/fe><code>fe</code></a>) module. The resulting AST then passes through a middleware (<a href=https://github.com/hyouteki/irl/tree/master/src/mw><code>mw</code></a>) module that invokes AST passes for correction and validation. Two default AST passes include <a href=https://github.com/hyouteki/irl/tree/master/src/mw/validate_iden_pass.rs><code>validate_iden_pass</code></a>, which ensures all identifiers used in instructions are valid, and <a href=https://github.com/hyouteki/irl/tree/master/src/mw/add_goto_pass.rs><code>add_goto_pass</code></a>, which inserts <code>goto</code> statements before necessary label instructions.<p>The corrected AST then proceeds to the optimization (<a href=https://github.com/hyouteki/irl/tree/master/src/opt><code>opt</code></a>) module, where it is transformed into a <a href=https://en.wikipedia.org/wiki/Control-flow_graph>CFG</a> (Control Flow Graph). This module applies Compiler Passes to the CFG to optimize it, including <a href=https://github.com/hyouteki/irl/tree/master/src/opt/reduce_pass.rs><code>reduce_pass</code></a> for simplifying the CFG, <a href=https://github.com/hyouteki/irl/tree/master/src/opt/constant_propagation_pass.rs><code>constant_fold_pass</code></a> for folding constants, and <code>reaching_definition_pass</code> for eliminating redundant instructions.<p>The optimized CFG is then passed to the translation (<a href=https://github.com/hyouteki/irl/tree/master/src/trn><code>trn</code></a>) module, which translates it into assembly code tailored to the target architecture.<h3 id=supported-targets>Supported Targets</h3><table><thead><tr><th>flag<th>Status<th>Notes<tbody><tr><td><code>fasm-linux-x86_64</code><td>✔️ Supported<td>Full functionality available<tr><td><code>fasm-windows-x86_64</code><td>✖️ Planned<td>Future support under development<tr><td><code>wasm</code><td>✖️ Planned<td>Future support under development</table><h3 id=getting-started>Getting Started</h3><pre class="language-asm z-code" data-lang=asm><code class=language-asm data-lang=asm><span class="z-source z-assembly"><span class="z-entity z-name z-function z-assembly">f</span><span class="z-entity z-name z-function z-assembly">u</span><span class="z-entity z-name z-function z-assembly">n</span><span class="z-entity z-name z-function z-assembly">c</span><span class="z-entity z-name z-function z-assembly">t</span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">n</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">f</span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">b</span><span class="z-source z-assembly">,</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-constant z-character z-decimal z-assembly">1</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly">r</span><span class="z-entity z-name z-function z-assembly">g</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">n</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-constant z-character z-decimal z-assembly">0</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">b</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-constant z-character z-decimal z-assembly">1</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-constant z-character z-decimal z-assembly">1</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">l</span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly">b</span><span class="z-entity z-name z-function z-assembly">e</span><span class="z-entity z-name z-function z-assembly">l</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">b</span><span class="z-entity z-name z-function z-assembly">e</span><span class="z-entity z-name z-function z-assembly">g</span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">n</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">f</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">(</span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">n</span><span class="z-entity z-name z-function z-assembly">)</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">g</span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">t</span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">e</span><span class="z-entity z-name z-function z-assembly">n</span><span class="z-entity z-name z-function z-assembly">d</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">t</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">b</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">b</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-source z-assembly">+</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">b</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">t</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-source z-assembly">+</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-constant z-character z-decimal z-assembly">1</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">g</span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">t</span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">b</span><span class="z-entity z-name z-function z-assembly">e</span><span class="z-entity z-name z-function z-assembly">g</span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">n</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">l</span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly">b</span><span class="z-entity z-name z-function z-assembly">e</span><span class="z-entity z-name z-function z-assembly">l</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">e</span><span class="z-entity z-name z-function z-assembly">n</span><span class="z-entity z-name z-function z-assembly">d</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-keyword z-control z-assembly">ret</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">b</span>

<span class="z-entity z-name z-function z-assembly">f</span><span class="z-entity z-name z-function z-assembly">u</span><span class="z-entity z-name z-function z-assembly">n</span><span class="z-entity z-name z-function z-assembly">c</span><span class="z-entity z-name z-function z-assembly">t</span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">o</span><span class="z-entity z-name z-function z-assembly">n</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">m</span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">n</span><span class="z-source z-assembly">,</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-constant z-character z-decimal z-assembly">0</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">p</span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly">r</span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly">m</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-constant z-character z-decimal z-assembly">6</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-keyword z-control z-assembly">call</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">f</span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">b</span><span class="z-source z-assembly">,</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-constant z-character z-decimal z-assembly">1</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">p</span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly">r</span><span class="z-entity z-name z-function z-assembly">a</span><span class="z-entity z-name z-function z-assembly">m</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">a</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">t</span><span class="z-entity z-name z-function z-assembly">m</span><span class="z-entity z-name z-function z-assembly">p</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">=</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-keyword z-control z-assembly">call</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly">p</span><span class="z-entity z-name z-function z-assembly">r</span><span class="z-entity z-name z-function z-assembly">i</span><span class="z-entity z-name z-function z-assembly">n</span><span class="z-entity z-name z-function z-assembly">t</span><span class="z-source z-assembly">,</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-constant z-character z-decimal z-assembly">1</span>
<span class="z-entity z-name z-function z-assembly"> </span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-keyword z-control z-assembly">ret</span><span class="z-entity z-name z-function z-assembly"> </span><span class="z-constant z-character z-decimal z-assembly">0</span>
</span></code></pre><pre class="language-console z-code" data-lang=console><code class=language-console data-lang=console><span class="z-text z-plain">$ cargo run -- compile -r -f ./eg/fib.irl --cfg --fasm-linux-x86_64
8
$ echo $?
0
</span></code></pre><blockquote><p>Generated control flow graph of this example</p><img src="https://github.com/hyouteki/irl/blob/master/eg/fib.dot.svg?raw=true" width=1200></blockquote><h3 id=cli-documentation>CLI Documentation</h3><pre class="language-md z-code" data-lang=md><code class=language-md data-lang=md><span class="z-text z-html z-markdown"><span class="z-meta z-paragraph z-markdown">Compile source code to target(s)

</span><span class="z-meta z-paragraph z-markdown">Usage: irl.exe compile [OPTIONS] --filepath <span class="z-meta z-tag z-other z-html"><span class="z-punctuation z-definition z-tag z-begin z-html"><</span></span><span class="z-meta z-tag z-other z-html"><span class="z-entity z-name z-tag z-other z-html">filepath</span><span class="z-punctuation z-definition z-tag z-end z-html">></span></span>

</span><span class="z-meta z-paragraph z-markdown">Options:
  -f, --filepath <span class="z-meta z-tag z-other z-html"><span class="z-punctuation z-definition z-tag z-begin z-html"><</span></span><span class="z-meta z-tag z-other z-html"><span class="z-entity z-name z-tag z-other z-html">filepath</span><span class="z-punctuation z-definition z-tag z-end z-html">></span></span>  Source file path
      --cfg                  Output control flow graph of the program as a svg
  -d, --debug                Dumps debug info onto stdout
  -v, --verbose              Sets info level to verbose
  -r, --run                  Runs the binary after compilation
      --wat                  Generates WAT (Web Assembly Text)
      --wasm                 Generates WASM (Web Assembly)
      --fasm-linux-x86_64    Generates FASM (Flat Assembly)
  -h, --help                 Print help
</span></span></code></pre><h3 id=emacs-mode><a href=https://github.com/hyouteki/irl/tree/master/editor_plugins/>Emacs mode</a></h3><img src="https://github.com/hyouteki/irl/blob/master/editor_plugins/resources/irl-mode.png?raw=true" width=1200><h3 id=examples>Examples</h3><ul><li><a href=https://hyouteki.github.io/projects/irl/./eg/fib.irl>Fibonacci</a><li><a href=https://hyouteki.github.io/projects/irl/./eg/constant_propagation_test.irl>Constant Propagation Analysis test</a></ul><h3 id=dependencies>Dependencies</h3><ul><li><a href=https://graphviz.org/download/>graphviz - Graph Visualization Tools</a><li><a href=https://flatassembler.net/>flatassembler - tgrysztar</a><li><a href=https://github.com/WebAssembly/wabt>wabt - webassembly</a></ul><h3 id=courtesy>Courtesy</h3><ul><li><a href=https://github.com/emacsattic/fasm-mode/>fasm-mode - emacsattic</a><li><a href=https://github.com/rexim/simpc-mode>simpc-mode - simple c mode for emacs - rexim</a></ul><br><a class=inline-button href=https://github.com/hyouteki/irl style=margin:10px>Repository</a><a class=inline-button href=https://github.com/hyouteki/irl/blob/main/LICENSE style=margin:10px>License GPL-3.0</a><hr><nav class=post-nav><a class="post-nav-item post-nav-prev" href=https://hyouteki.github.io/projects/voyage/> <div class=nav-arrow>← Previous</div> <span class=post-title>Voyage - Immediate Mode GUI Application Framework</span> </a></nav><p class=dialog-buttons><a class=inline-button href=#top>Go to top</a> <a class="inline-button colored" href=https://github.com/hyouteki/hyouteki.github.io/issues>File an issue</a></div><footer class=footer><p title="Last built at 2025-02-10 16:16 +00:00"><small>© Ninthcircle, 2025</small><p><small>Powered by <a href=https://www.getzola.org>Zola</a> and <a href=https://daudix.codeberg.page/duckquill>Duckquill</a></small></footer>